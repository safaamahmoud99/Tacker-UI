 <!-- <p-tabMenu [model]="items" [activeItem]="activeItem"></p-tabMenu> -->
<p-toast></p-toast>
<p-toast position="top-left" key="tl"></p-toast>
<p-toast position="top-center" key="tc"></p-toast>
<p-toast position="top-right" key="tr"></p-toast>
<p-toast position="bottom-center" key="bc"></p-toast>
<div class="card container">
    <h1 [translate]="'Tracker.Add Project'" style="margin-bottom: 20px; font-size: 2em;color: #2674a8;"></h1>
    <mat-horizontal-stepper [linear]="isLinear" #stepper >
        <mat-step [stepControl]="ProjectdataFormGroup">
            <ng-template matStepLabel>{{'Tracker.Project Data'| translate}}</ng-template>
            <div class="row">
                <div class="p-field col-md-3">
                    <label for="Project Name" class="labelMarginRight" [translate]="'Tracker.Project Name'">
                    </label><br>
                    <input minlength="3" #ProjectName="ngModel" [placeholder]="'Tracker.Project Name' | translate"
                        [class.is-invalid]="ProjectName.invalid && ProjectName.touched" [class.is-valid]="ProjectName.valid"
                          type="text" [(ngModel)]="projectObj.projectName" pInputText id="name"
                        required [readonly]="IsDisabled" />
                    <br> <small [hidden]="(ProjectName.valid || ProjectName.untouched)" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>

                </div>

  <!--  <div class="col-md-6">
                <label for="name" [translate]="'Tracker.Employee Name'"></label>
                <input type="text" #EmpName="ngModel" [class.is-invalid]="EmpName.invalid && EmpName.touched"
                    [class.is-valid]="EmpName.valid" [(ngModel)]="Employee.employeeName" required minlength="3"
                    name="EmpName" id="EmployeeName" class="form-control"
                    [placeholder]="'Tracker.Employee Name' | translate" aria-describedby="helpId">
                <small [hidden]="EmpName.valid || EmpName.untouched" id="helpId" class="text-danger" [translate]="'Tracker.messege'"></small>
            </div>-->
<!--
                <input type="text" #organizationCode="ngModel"
          [class.is-invalid]="organizationCode.invalid && organizationCode.touched"
          [class.is-valid]="organizationCode.valid" [(ngModel)]="organizationObj.organizationCode"
          name="organizationCode" required minlength="2" name="organizationCodes" id="organizationCode"
          class="form-control" [placeholder]="'Tracker.Code' | translate" aria-describedby="helpId" required>
        <small [hidden]="organizationCode.valid || organizationCode.untouched" id="helpId" class="text-danger"
          [translate]="' Code Must be more than 2'"></small> -->
                <div class="p-field col-md-3">
                    <label for="Project Code" class="labelMarginRight" [translate]="'Tracker.Project Code'"></label><br>
                    <input type="text" #ProCode="ngModel" name="ProjectCode" [readonly]="IsDisabled"
                        [placeholder]="'Tracker.Project Code' | translate"
                        [class.is-invalid]="ProCode.invalid && ProCode.touched" [class.is-valid]="ProCode.valid"
                        minlength="2" [(ngModel)]="projectObj.projectCode" pInputText id="Code" required />
                    <br> <small [hidden]="ProCode.valid || ProCode.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messegecode'"></small>
                </div>
                <div class="p-field col-md-3">
                    <label for="Project Type" class="labelMarginRight"
                        [translate]="'Tracker.Project Type Name'"></label><br>
                    <p-dropdown [options]="lstProjectTypes" [(ngModel)]="projectObj.projectTypeId" [readonly]="IsDisabled"
                        [placeholder]="'Tracker.Project Type Name' | translate" optionLabel="typeName" optionValue="id">
                    </p-dropdown>
                </div>
                <div class="p-field col-md-3">
                    <label for="Project Cost" class="labelMarginRight" [translate]="'Tracker.Project Cost'">
                    </label><br>
                    <input type="number" min="1" [(ngModel)]="projectObj.cost" pInputText id="Cost" #Procost="ngModel"
                        name="ProjectCost" [placeholder]="'Tracker.Project Cost' | translate" [readonly]="IsDisabled" />
                    <br> <small [hidden]="Procost.valid || Procost.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messegeNumber'"></small>
                </div>
            </div><br>
            <div class="row">
                <div class="p-field col-md-3">
                    <label for="Plannded Start Date" class="labelMarginRight"
                        [translate]="'Tracker.Plannded Start Date'"></label><br>
                    <p-calendar (onSelect)="GetplanndedStartDate($event)" appendTo="body"
                        [(ngModel)]="projectObj.planndedStartDate" dateFormat="yy-mm-dd" 
                        [placeholder]="'Tracker.Plannded Start Date' | translate" #planndedStartDate="ngModel"
                        name="planndedStartDate" [disabled]="isDisabled1"
                        [class.is-invalid]="planndedStartDate.touched"
                        [class.is-valid]="planndedStartDate.valid"></p-calendar>
                    <!-- <br> <small [hidden]="planndedStartDate.valid || planndedStartDate.untouched" id="helpId"
                        class="text-danger" [translate]="'Tracker.messegeDate'"></small> -->
                </div>
                <div class="p-field col-md-3">
                    <label for="Actual Start Date" class="labelMarginRight"
                        [translate]="'Tracker.Actual Start Date'"></label><br>
                    <p-calendar (onSelect)="GetActualStartDate($event)" appendTo="body"
                        [(ngModel)]="projectObj.actualStartDate" dateFormat="dd/mm/yy" 
                        [placeholder]="'Tracker.Actual Start Date' | translate" #actualStartDate="ngModel"
                        name="actualStartDate" [readonlyInput] ="isDisabled2" [disabled]="isDisabled2"></p-calendar>
                    <!-- <br> <small [hidden]="actualStartDate.valid || actualStartDate.untouched" id="helpId1"
                        class="text-danger" [translate]="'Tracker.messegeDate'"></small> -->
                </div>
                <div class="p-field col-md-3">
                    <label for="Plannded End Date" class="labelMarginRight"
                        [translate]="'Tracker.Plannded End Date'"></label><br>
                    <p-calendar [minDate]="plannedStartdate" [(ngModel)]="projectObj.planndedEndDate" dateFormat="dd/mm/yy"
                          [placeholder]="'Tracker.Plannded End Date' | translate"
                         appendTo="body" #ProplanndedEndDate="ngModel" name="ProplanndedEndDate" 
                         (onSelect)="GetDifferentDate($event)"  [readonlyInput] ="isDisabled3" [disabled]="isDisabled3" >
                    </p-calendar>
                    <!-- <br> <small [hidden]="ProplanndedEndDate.valid || ProplanndedEndDate.untouched" id="helpId2"
                        class="text-danger" [translate]="'Tracker.messegeDate'"></small> -->

                </div>
                <div class="p-field col-md-3">
                    <label for="Actual End Date" class="labelMarginRight"
                        [translate]="'Tracker.Actual End Date'"></label><br>
                    <p-calendar [minDate]="ActualStartDate" [(ngModel)]="projectObj.actualEndDate" dateFormat="dd/mm/yy"
                        #actualEndDate="ngModel" [placeholder]="'Tracker.Actual End Date' | translate" appendTo="body"
                        name="actualEndDate" [readonlyInput] ="isDisabled4" [disabled]="isDisabled4"></p-calendar>
                    <!-- <br> <small [hidden]="actualEndDate.valid || actualEndDate.untouched" id="helpId3"
                        class="text-danger" [translate]="'Tracker.messegeDate'"></small> -->

                </div>
            </div> <br>
            <div class="row">
                <div class="p-field col-md-3">
                    <label for="Project Period" class="labelMarginRight">
                        {{'Tracker.Project Period' | translate}}{{'Tracker./Days' | translate}}</label><br>
                    <input type="text" name="ProPeriod" disabled [placeholder]="'Tracker.Project Period' | translate"
                        [(ngModel)]="diffDays" pInputText id="Period" />
                </div>
                <div class="p-field col-md-3">
                    <label for="organization Name" class="labelMarginRight"
                        [translate]="'Tracker.Organization Name'"></label><br>
                    <p-dropdown [options]="lstOrganizations" [(ngModel)]="projectObj.organizationId" [readonly]="IsDisabled"
                        [placeholder]="'Tracker.Organization Name' | translate" optionLabel="organizationName"
                        optionValue="id">
                    </p-dropdown>
                </div>
                <div class="p-field col-md-3">
                    <label for="Project Manager" class="labelMarginRight" [translate]="'Tracker.Project Manager'">
                    </label><br>
                    <p-dropdown [options]="lstEmployees" [(ngModel)]="projectObj.employeeId" [readonly]="IsDisabled"
                        [placeholder]="'Tracker.Project Manager' | translate" optionLabel="employeeName" optionValue="id">
                    </p-dropdown>
                </div>
                <div class="p-field col-md-3">
                    <label for="site Name" class="labelMarginRight" [translate]="'Tracker.Site Name'"></label><br>
                    <p-multiSelect [options]="lstAllSites" name="inputlstSites" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="selectedSitesColumns" optionLabel="sitename" [style]="{'width':'100%'}"
                        selectedItemsLabel="{0} columns selected" [placeholder]="'Tracker.Site Name'| translate"
                        [readonly]="IsDisabled"></p-multiSelect>
                </div>
            </div><br>
            <div class="row">
                <div class="p-field col-md-6">
                    <label for="description" [translate]="'Tracker.Description'"></label><br>
                    <textarea id="description" [(ngModel)]="projectObj.description" pInputTextarea required rows="3"
                        cols="63" [readonly]="IsDisabled"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-6"></div>
                <div class="col-md-2">
                  <button mat-stroked-button [disabled]="IsSaveProject" (click)="AddProject()" color="primary" mat-button >{{'Tracker.Submit'|translate}}</button>
                </div>
                <div class="col-md-2">
                    <button mat-stroked-button [disabled]="disabledButton" color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
                <!-- <div class="col-md-2">
                    <button mat-stroked-button [disabled]="disabledButton"  (click)="AddProject()" color="primary" mat-button>{{'Tracker.NEXT'|translate}}</button>
                </div> -->
            </div>
        </mat-step>
        <mat-step [stepControl]="AssetFormGroup">
            <ng-template matStepLabel>{{'Tracker.Assets'| translate}}</ng-template>
            <div class="row">
                <div class="p-field col-md-3">
                    <label for="sitename" [translate]="'Tracker.Sites'"></label><br>
                    <p-listbox [options]="lstSites" optionValue="id" [(ngModel)]="projectSiteClientObj.siteId"
                        optionLabel="sitename" (onChange)="getProjectSiteIdEvent($event)"></p-listbox><br>
                    <label for="Client Name" class="labelMarginRight" [translate]="'Tracker.Client Name'"></label><br>
                    <p-multiSelect [options]="lstClients" [(ngModel)]="projectSiteClientObj.clients"
                        selectedItemsLabel="{0} columns selected" [style]="{'width':'100%'}" appendTo="body"
                        [placeholder]="'Tracker.Client Name' | translate" optionLabel="clientName">
                    </p-multiSelect><br>
                </div>
                <div class="p-field col-md-9 card">
                    <div class="row">
                        <div class="p-field col-md-4">

                        </div>
                        <div class="p-field col-md-2"></div>
                        <div class="p-field col-md-3"></div>
                        <div class="p-field col-md-3">
                            <button type="submit" (click)="AddAssets()" style="float: right;margin-top: 20px;"
                                class="btn btn-primary" *ngIf="activeIndex ==1">{{'Tracker.Add Asset' | translate}}</button>
                        </div>
                    </div>
                    <div class="row mt-3">

                        <div class="col-md-12">
                            <p-table [value]="listProjectSiteAssetClients" [scrollable]="true" scrollHeight="400px"
                                scrollDirection="both">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <!-- <th>Site Name</th> -->
                                        <th>{{'Tracker.Asset Name' | translate}}
                                            <p-columnFilter type="text" field="assetName" display="menu"></p-columnFilter>
                                        </th>
                                        <th>{{'Tracker.Asset Serial' | translate}}
                                            <p-columnFilter type="text" field="serialNumber" display="menu">
                                            </p-columnFilter>
                                        </th>
                                        <!-- <th>{{'Tracker.DueDate' | translate}}
                                            <p-columnFilter type="text" field="days" display="menu"></p-columnFilter>
                                        </th> -->
                                        <th>{{'Tracker.Warranty Period' | translate}}
                                            <p-columnFilter type="text" field="warrantyPeriod" display="menu">
                                            </p-columnFilter>
                                        </th>
                                        <th>{{'Tracker.Warranty Start Date' | translate}}
                                            <p-columnFilter type="date" field="warrantyStartDate" display="menu">
                                            </p-columnFilter>
                                        </th>
                                        <th>{{'Tracker.Supplier Name' | translate}}
                                            <p-columnFilter type="text" field="supplierName" display="menu">
                                            </p-columnFilter>
                                        <!-- </th>
                                        <th>{{'Tracker.Client' | translate}}
                                            <p-columnFilter type="text" field="clientName" display="menu"></p-columnFilter>

                                        </th> -->
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-i>
                                    <tr>
                                        <!-- <td>{{i.siteName}}</td> -->
                                        <td>{{i.assetName}}</td>
                                        <td>{{i.serialNumber}}</td>
                                        <!-- <td>{{i.days}} Days</td> -->
                                        <td>{{i.warrantyPeriod}}Days</td>
                                        <td>{{i.warrantyStartDate | date:'dd/MM/yyyy'}}</td>
                                        <td>{{i.supplierName}}</td>
                                        <!-- <td>
                                            <div *ngFor="let cln of i.clients">
                                                <div>{{cln.clientName}}</div>
                                            </div>
                                        </td> -->
                                    </tr>
                                    <tr *ngIf="listProjectSiteAssetClients.length == 0">
                                        <td colspan="4" style="color: rgb(102, 97, 23);"
                                            [translate]="'Tracker.No data found'">.
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-3">
                  <button mat-stroked-button color="primary" mat-button matStepperPrevious> {{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                  <button mat-stroked-button color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step [stepControl]="PartenerFormGroup">
            <ng-template matStepLabel>{{'Tracker.Parteners'| translate}}</ng-template>
            <div class="row">

                <div class="col for">
                    <div class="p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                            <input #PartnerName="ngModel" class="form-control"
                                [class.is-invalid]="PartnerName.invalid && PartnerName.touched"
                                [class.is-valid]="PartnerName.valid" required minlength="3" type="text" pInputText
                                [placeholder]="'Tracker.Partener Name' | translate"
                                [(ngModel)]="stackholderInLst.stackeholderName">
                        </div>
                        <small [hidden]="PartnerName.valid || PartnerName.untouched" id="helpId" class="text-danger"
                            [translate]="'Tracker.messege'"></small>
                    </div>
                    <div class="p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"></span>
                            <input #Partenermobile="ngModel" class="form-control"
                                [class.is-invalid]="Partenermobile.invalid && Partenermobile.touched"
                                [class.is-valid]="Partenermobile.valid" required  pattern="^01[0-2,5]{1}[0-9]{8}$" type="text" pInputText
                                [placeholder]="'Tracker.Mobile' | translate" [(ngModel)]="stackholderInLst.mobile">
                            <span class="p-inputgroup-addon"></span>
                        </div>
                        <small [hidden]="Partenermobile.valid || Partenermobile.untouched" id="helpId" class="text-danger validation"
                      [translate]="'Tracker.phoneNumber'"  >  </small>
                    </div>
                    <div class="p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"></span>
                            <input #Partenerrank="ngModel" class="form-control"
                                [class.is-invalid]="Partenerrank.invalid && Partenerrank.touched"
                                [class.is-valid]="Partenerrank.valid" required minlength="3" type="text" pInputText
                                [placeholder]="'Tracker.Rank' | translate" [(ngModel)]="stackholderInLst.rank">
                            <span class="p-inputgroup-addon"></span>
                        </div>
                        <small [hidden]="Partenerrank.valid || Partenerrank.untouched" id="helpId" class="text-danger"
                            [translate]="'Tracker.messege'"></small>
                    </div>
                    <div class="p-col-12 p-md-4">
                        <div>
                            <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate" style="width: 100%;"
                                [(ngModel)]="stackholderInLst.description" class="row p-col-12 p-md-4"></textarea>
                        </div>
                        <div>
                            <button class="btn btn-info" style="margin-top: 20px;float: right;margin-right: -17px;"
                                (click)="Savetolist_Stackholders()" [translate]="'Tracker.Save To List'"></button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <table class="table">
                        <thead>
                            <tr>
                                <th [translate]="'Tracker.Partener Name'"></th>
                                <th [translate]="'Tracker.Mobile'"></th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let i of lstOfStackholder">
                                <td>
                                    {{i.stackeholderName}}
                                </td>
                                <td>
                                    {{i.mobile}}
                                </td>
                            </tr>
                            <tr>

                            </tr>
                            <tr *ngIf="lstOfStackholder.length == 0">
                                <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">
                                </td>
                            </tr>
                        </tbody>

                    </table>

                    <button class="btn btn-warning" [disabled]="lstOfStackholder.length == 0"
                        (click)="SaveToDB_Stackholders()" [translate]="'Tracker.Add'"></button>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-3">
                  <button mat-stroked-button color="primary" mat-button matStepperPrevious> {{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                  <button mat-stroked-button color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step [stepControl]="MileStoneFormGroup">
            <ng-template matStepLabel>{{'Tracker.MileStones'| translate}}</ng-template>
            <div class="row">
                <div class="col">
                    <div class="p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                            <input #mileston="ngModel" class="form-control"
                                [class.is-invalid]="mileston.invalid && mileston.touched" [class.is-valid]="mileston.valid"
                                required minlength="3" type="text" pInputText [placeholder]="'Tracker.Title' | translate"
                                [(ngModel)]="milestonInLst.title">
                        </div>
                        <small [hidden]="mileston.valid || mileston.untouched" id="helpId" class="text-danger"
                            [translate]="'Tracker.messege'"></small>
                    </div>
                    <div class="row p-col-12 p-md-4">
                        <div class="p-field col-md-6">
                            <label for="StartDate" class="labelMarginRight" [translate]="'Tracker.Start Date'">
                            </label><br>
                            <p-calendar #milestonStartDate="ngModel" appendTo="body" (onSelect)="GetmilestonStartDate($event)"
                                [class.is-invalid]="milestonStartDate.invalid && milestonStartDate.touched"
                                [class.is-valid]="milestonStartDate.valid" required minlength="3"
                                [(ngModel)]="milestonInLst.startDate" dateFormat="dd/mm/yy"></p-calendar>
                            <br><small [hidden]="milestonStartDate.valid || milestonStartDate.untouched" id="helpId"
                                class="text-danger" [translate]="'Tracker.messegeDate'"></small>
                        </div>
                        <div class="p-field col-md-6">
                            <label for="End Date" class="labelMarginRight" [translate]="'Tracker.End Date'">
                            </label><br>
                            <p-calendar  [minDate]="milestonInLst.startDate" #milestonendDate="ngModel" appendTo="body"
                                [class.is-invalid]="milestonendDate.invalid && milestonendDate.touched"
                                [class.is-valid]="milestonendDate.valid" required
                                [(ngModel)]="milestonInLst.endDate" dateFormat="dd/mm/yy"></p-calendar><br>
                            <small [hidden]="milestonendDate.valid || milestonendDate.untouched" id="helpId"
                                class="text-danger" [translate]="'Tracker.messegeDate'"></small>
                        </div>
                    </div>

                    <div class="p-col-12 p-md-4">
                        <div>
                            <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate"
                                [(ngModel)]="milestonInLst.description" style="width: 100%;"
                                class="row p-col-12 p-md-4"></textarea>
                        </div>
                        <div>
                            <button class="btn btn-info" style="margin-top: 20px;float: right;margin-right: -17px;"
                                (click)="Savetolist_Milestones()" [translate]="'Tracker.Save To List'"></button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <table class="table">
                        <thead>
                            <tr>
                                <th [translate]="'Tracker.Title'"></th>
                                <th [translate]="'Tracker.Start Date'"></th>
                                <th [translate]="'Tracker.End Date'"></th>
                                <th [translate]="'Tracker.Description'"></th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let i of lstOfMilestones">
                                <td>
                                    {{i.title}}
                                </td>
                                <td>
                                    {{i.startDate | date:'dd/MM/yyyy'}}
                                </td>
                                <td>
                                    {{i.endDate | date:'dd/MM/yyyy'}}
                                </td>
                                <td>
                                    {{i.description}}
                                </td>
                            </tr>
                            <tr>

                            </tr>
                            <tr *ngIf="lstOfMilestones.length == 0">
                                <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                                </td>
                            </tr>
                        </tbody>

                    </table>

                    <button class="btn btn-warning" [disabled]="lstOfMilestones.length == 0" (click)="SaveToDB_Milestones()"
                        [translate]="'Tracker.Add'"></button>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-3">
                  <button mat-stroked-button color="primary" mat-button matStepperPrevious> {{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                  <button mat-stroked-button color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step [stepControl]="TeamFormGroup">
            <ng-template matStepLabel>{{'Tracker.Teams'| translate}}</ng-template>
            <div class="row">
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                        <input #teamname2="ngModel" [class.is-invalid]="teamname2.invalid && teamname2.touched"
                            [class.is-valid]="teamname2.valid" required minlength="3" type="text" class="form-control"
                            pInputText [placeholder]="'Tracker.Team Name' | translate" [(ngModel)]="team.Name">
                    </div>
                    <small [hidden]="teamname2.valid || teamname2.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>
                </div>
                <div class="col">
                    <div class="col">
                        <label class="labelstyle" [translate]="'Tracker.Position Name'"></label>
                        <select [(ngModel)]="ProjectTeam.projectPositionId" name="id" class="form-control">emp
                            <option hidden [value]="" selected>select Position Name </option>
                            <option *ngFor="let the of lstOfprojectPosition" value="{{the.id}}">{{the.positionName}}
                            </option>
                        </select>
                    </div>

                    <div class="col">
                        <label class="labelstyle" [translate]="'Tracker.Employee Name'"></label>
                        <select [(ngModel)]="ProjectTeam.employeeId" name="sel2" class="form-control"
                            (change)="OnChangeEmpID($event)">
                            <option *ngFor="let th of lstEmployees" value="{{th.id}}">{{th.employeeName}}</option>
                        </select>
                    </div>

                    <div class="col">
                        <label class="labelstyle" [translate]="'Tracker.Department Name'"></label>
                        <select [(ngModel)]="ProjectTeam.departmentId" name="sub" class="form-control">
                            <option value="{{department.id}}">{{department.name}}</option>
                        </select>
                    </div>

                    <div class="p-col-12 p-md-4">

                        <div>
                            <button class="btn btn-info" style="margin-top: 20px;float: right;" (click)="Savetolist_Teams()"
                                [translate]="'Tracker.Save To List'"></button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <table class="table">
                        <thead>
                            <tr>{{ 'Tracker.Team Name' | translate }} : {{teamname}}</tr>
                            <tr>
                                <th [translate]="'Tracker.Position Name'"></th>
                                <th [translate]="'Tracker.Employee Name'"></th>
                                <th [translate]="'Tracker.Department Name'"></th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let i of lstOfProjectTeams">
                                <td>
                                    {{i.projectPositionName}}
                                </td>
                                <td>
                                    {{i.employeeName}}
                                </td>
                                <td>
                                    {{i.departmentName}}
                                </td>
                            </tr>

                            <tr *ngIf="lstOfProjectTeams.length == 0">
                                <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                                </td>
                            </tr>
                        </tbody>

                    </table>

                    <button class="btn btn-warning" [disabled]="lstOfProjectTeams.length == 0"
                        (click)="SaveToDB_ProjectTeams()" [translate]="'Tracker.Add'"></button>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-3">
                  <button mat-stroked-button color="primary" mat-button matStepperPrevious> {{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                  <button mat-stroked-button color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step [stepControl]="DocumentsFormGroup">
            <ng-template matStepLabel>{{'Tracker.Documents'| translate}}</ng-template>
            <div class="row">
                <div class="col">
                    <div class="p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                            <input #DocName="ngModel" class="form-control"
                                [class.is-invalid]="DocName.invalid && DocName.touched" [class.is-valid]="DocName.valid"
                                required minlength="3" type="text" pInputText
                                [placeholder]="'Tracker.Document Name' | translate" [(ngModel)]="docproject.documentName">
                        </div>
                        <small [hidden]="DocName.valid || DocName.untouched" id="helpId" class="text-danger"
                            [translate]="'Tracker.messege'"></small>
                    </div>
                    <div class="p-col-12 p-md-4">
                        <div>
                            <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate" style="width: 100%;"
                                [(ngModel)]="docproject.Description" class="row p-col-12 p-md-4"></textarea>
                        </div>
                        <br />
                        <br />
                        <div class="p-field col-md-3" style="margin-bottom:15px;">
                            <div class="col-md-2">
                                <input type="file" #file [placeholder]="'Tracker.Choose file'|translate"
                                    (change)="uploadFile(file.files)" style="display:none;">

                            </div>
                            <div class="col-md-4">

                                <span class="upload" *ngIf="message">

                                    {{message}}
                                </span>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-success" style="margin-top: 20px;margin-left: 10px;" (click)="file.click()"
                            [translate]="'Tracker.Upload'">
                        </button>
                            <button class="btn btn-info" style="margin-top: 20px;float: right;" (click)="Savedoctolist()"
                                [translate]="'Tracker.Save To List'"></button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <table class="table">
                        <thead>
                            <tr>
                                <th [translate]="'Tracker.Document Name'"></th>
                                <th [translate]="'Tracker.Description'"></th>
                                <th [translate]="'Tracker.File Name'"></th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let i of lstoddocproj">

                                <td>{{i.documentName}}</td>
                                <td>{{i.Description}}</td>
                                <td>{{i.documentFile}}</td>
                            </tr>
                            <tr>

                            </tr>
                            <tr *ngIf="lstoddocproj.length == 0">
                                <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                                </td>
                            </tr>
                        </tbody>

                    </table>

                    <button class="btn btn-warning" [disabled]="lstoddocproj.length == 0" (click)="SaveDocuentToDB()"
                        [translate]="'Tracker.Add'"></button>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-3">
                  <button mat-stroked-button color="primary" mat-button matStepperPrevious> {{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                  <button mat-stroked-button color="primary" mat-button matStepperNext>{{'Tracker.NEXT'|translate}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step >
            <ng-template matStepLabel>{{'Tracker.FINISH'| translate}}</ng-template>
            <p>{{'Tracker.You are now done.'|translate}}</p>
            <div class="row">
                <div class="col-md-2">
                    <button mat-stroked-button color="primary" mat-button matStepperPrevious>{{'Tracker.Back'|translate}}</button>
                </div>
                <div class="col-md-8"></div>
                <div class="col-md-2">
                    <button mat-stroked-button (click)="stepper.reset()" (click)="CloseStipper()" color="primary" mat-button>{{'Tracker.FINISH'|translate}}</button>
                </div>
            </div>
        </mat-step>
    </mat-horizontal-stepper>
    <p-dialog [(visible)]="NewDialogbool" [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '60vw'}"
        [baseZIndex]="1000">
        <div class="row">
            <div class="p-field col-md-4">
                <label for="asset Name" class="labelMarginRight" [translate]="'Tracker.Asset Name'"></label><br>
                <p-dropdown [options]="lstassets" [placeholder]="'Tracker.Asset Name' | translate" appendTo="body"
                    [(ngModel)]="projectSiteClientObj.assetId" optionLabel="assetName" optionValue="id">
                </p-dropdown>
            </div>
            <div class="p-field col-md-4">
                <label for="Asset Serial" class="labelMarginRight" [translate]="'Tracker.Asset Serial'"></label><br>
                <input [ngModelOptions]="{standalone: true}" (blur)="onChangeSerial($event)" [(ngModel)]="projectSiteClientObj.serialNumber" type="text"
                    pInputText name="serialNumber" [placeholder]="'Tracker.Asset Serial' | translate" />
            </div>
            <div class="p-field col-md-4">
              <label for="WstartDate">{{'Tracker.Warranty Start Date' | translate}}</label>
              <p-calendar dateFormat="dd/mm/yy" [(ngModel)]="projectSiteClientObj.warrantyStartDate" appendTo="body"
                  [placeholder]="'Tracker.Warranty Start Date' | translate" #ProWarrantyStartDate="ngModel"
                  name="WarrantyStartDate"></p-calendar>
          </div>
            <!-- <div class="p-field col-md-4">
                <label for="Due Date" class="labelMarginRight">
                   {{'Tracker.DueDate' | translate}} {{'Tracker./Days' | translate}}
                </label><br>
                <input [ngModelOptions]="{standalone: true}" [(ngModel)]="projectSiteClientObj.days" type="number"
                    name="days" pInputText min="1" [placeholder]="'Tracker.DueDate' | translate" />
            </div> -->
        </div><br>
        <div class="row">
            <div class="p-field col-md-4">
                <label for="Wperiod">{{'Tracker.Warranty Period' | translate}}{{'Tracker./Days' | translate}}</label>
                <input [(ngModel)]="projectSiteClientObj.warrantyPeriod" type="number" min="1" pInputText
                    [placeholder]="'Tracker.Warranty Period' | translate" #ProWarrantyPeriod="ngModel"
                    name="WarrantyPeriod" [ngModelOptions]="{standalone: true}" />
            </div>

            <div class="p-field col-md-4">
                <label for="Supplier Name" class="labelMarginRight" [translate]="'Tracker.Supplier Name'"></label><br>
                <p-dropdown [options]="lstSuppliers" [(ngModel)]="projectSiteClientObj.supplierId" appendTo="body"
                    [placeholder]="'Tracker.Supplier Name' | translate" optionLabel="supplierName" optionValue="id">
                </p-dropdown>
            </div>
        </div>
        <ng-template pTemplate="footer">
            <button type="submit" (click)="saveSiteAssettoList()" style="float: right;" class="btn btn-primary"
                 >Add</button>
            <button icon="pi pi-times" class="btn btn-primary" (click)="NewDialogbool=false">Cancel</button>
        </ng-template>

    </p-dialog>
</div>


































    <!-- <p-steps [model]="items" let item [(activeIndex)]="activeIndex" [readonly]="false"></p-steps>
    <div *ngIf="activeIndex==0" class="stepsdemo-content"><br>
        <div class="row">
            <div class="p-field col-md-3">
                <label for="Project Name" class="labelMarginRight" [translate]="'Tracker.Project Name'">
                </label><br>
                <input minlength="3" #ProjectName="ngModel" [placeholder]="'Tracker.Project Name' | translate"
                    [class.is-invalid]="ProjectName.invalid && ProjectName.touched" [class.is-valid]="ProjectName.valid"
                    required minlength="3" type="text" [(ngModel)]="projectObj.projectName" pInputText id="name"
                    required [disabled]="IsDisabled" />
                <br> <small [hidden]="ProjectName.valid || ProjectName.untouched" id="helpId" class="text-danger"
                    [translate]="'Tracker.messege'"></small>
            </div>
            <div class="p-field col-md-3">
                <label for="Project Code" class="labelMarginRight" [translate]="'Tracker.Project Code'"></label><br>
                <input type="text" #ProCode="ngModel" name="ProjectCode" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Project Code' | translate"
                    [class.is-invalid]="ProCode.invalid && ProCode.touched" [class.is-valid]="ProCode.valid" required
                    minlength="2" [(ngModel)]="projectObj.projectCode" pInputText id="Code" required />
                <br> <small [hidden]="ProCode.valid || ProCode.untouched" id="helpId" class="text-danger"
                    [translate]="'Tracker.messegecode'"></small>
            </div>
            <div class="p-field col-md-3">
                <label for="Project Type" class="labelMarginRight"
                    [translate]="'Tracker.Project Type Name'"></label><br>
                <p-dropdown [options]="lstProjectTypes" [(ngModel)]="projectObj.projectTypeId" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Project Type Name' | translate" optionLabel="typeName" optionValue="id">
                </p-dropdown>
            </div>
            <div class="p-field col-md-3">
                <label for="Project Cost" class="labelMarginRight" [translate]="'Tracker.Project Cost'">
                </label><br>
                <input type="number" min="1" [(ngModel)]="projectObj.cost" pInputText id="Cost" #Procost="ngModel"
                    name="ProjectCost" [placeholder]="'Tracker.Project Cost' | translate" [disabled]="IsDisabled" />
                <br> <small [hidden]="Procost.valid || Procost.untouched" id="helpId" class="text-danger"
                    [translate]="'Tracker.messegeNumber'"></small>
            </div>
        </div><br>
        <div class="row">
            <div class="p-field col-md-3">
                <label for="Plannded Start Date" class="labelMarginRight"
                    [translate]="'Tracker.Plannded Start Date'"></label><br>
                <p-calendar [minDate]="minDate" (onSelect)="GetplanndedStartDate($event)"
                    [(ngModel)]="projectObj.planndedStartDate" dateFormat="dd/mm/yy" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Plannded Start Date' | translate" #ProplanndedStartDate="ngModel"
                    name="planndedStartDate"></p-calendar>
                <br> <small [hidden]="ProplanndedStartDate.valid || ProplanndedStartDate.untouched" id="helpId"
                    class="text-danger" [translate]="'Tracker.messegeDate'"></small>
            </div>
            <div class="p-field col-md-3">
                <label for="Actual Start Date" class="labelMarginRight"
                    [translate]="'Tracker.Actual Start Date'"></label><br>
                <p-calendar [minDate]="minDate" (onSelect)="GetActualStartDate($event)"
                    [(ngModel)]="projectObj.actualStartDate" dateFormat="dd/mm/yy" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Actual Start Date' | translate" #ProActualStartDate="ngModel"
                    name="ProActualStartDate"></p-calendar>
                <br> <small [hidden]="ProActualStartDate.valid || ProActualStartDate.untouched" id="helpId"
                    class="text-danger" [translate]="'Tracker.messegeDate'"></small>

            </div>
            <div class="p-field col-md-3">
                <label for="Plannded End Date" class="labelMarginRight"
                    [translate]="'Tracker.Plannded End Date'"></label><br>
                <p-calendar [minDate]="plannedStartdate" [(ngModel)]="projectObj.planndedEndDate" dateFormat="dd/mm/yy"
                    [disabled]="IsDisabled" [placeholder]="'Tracker.Plannded End Date' | translate"
                    #ProplanndedEndDate="ngModel" name="ProplanndedEndDate" (onSelect)="GetDifferentDate($event)">
                </p-calendar>
                <br> <small [hidden]="ProplanndedEndDate.valid || ProplanndedEndDate.untouched" id="helpId"
                    class="text-danger" [translate]="'Tracker.messegeDate'"></small>

            </div>
            <div class="p-field col-md-3">
                <label for="Actual End Date" class="labelMarginRight"
                    [translate]="'Tracker.Actual End Date'"></label><br>
                <p-calendar [minDate]="ActualStartDate" [(ngModel)]="projectObj.actualEndDate" dateFormat="dd/mm/yy"
                    #ProactualEndDate="ngModel" [placeholder]="'Tracker.Actual End Date' | translate"
                    name="ProactualEndDate" [disabled]="IsDisabled"></p-calendar>
                <br> <small [hidden]="ProactualEndDate.valid || ProactualEndDate.untouched" id="helpId"
                    class="text-danger" [translate]="'Tracker.messegeDate'"></small>

            </div>
        </div> <br>
        <div class="row">
            <div class="p-field col-md-3">
                <label for="Project Period" class="labelMarginRight" [translate]="'Tracker.Project Period'">
                </label><br>
                <input type="text" name="ProPeriod" disabled [placeholder]="'Tracker.Project Period' | translate"
                    [(ngModel)]="diffDays" pInputText id="Period" />
            </div>
            <div class="p-field col-md-3">
                <label for="organization Name" class="labelMarginRight"
                    [translate]="'Tracker.Organization Name'"></label><br>
                <p-dropdown [options]="lstOrganizations" [(ngModel)]="projectObj.organizationId" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Organization Name' | translate" optionLabel="organizationName"
                    optionValue="id">
                </p-dropdown>
            </div>
            <div class="p-field col-md-3">
                <label for="Project Manager" class="labelMarginRight" [translate]="'Tracker.Project Manager'">
                </label><br>
                <p-dropdown [options]="lstEmployees" [(ngModel)]="projectObj.employeeId" [disabled]="IsDisabled"
                    [placeholder]="'Tracker.Project Manager' | translate" optionLabel="employeeName" optionValue="id">
                </p-dropdown>
            </div>
            <div class="p-field col-md-3">
                <label for="site Name" class="labelMarginRight" [translate]="'Tracker.Site Name'"></label><br>
                <p-multiSelect [options]="lstAllSites" name="inputlstSites" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="selectedSitesColumns" optionLabel="sitename" [style]="{'width':'100%'}"
                    selectedItemsLabel="{0} columns selected" [placeholder]="'Tracker.Site Name'| translate"
                    [disabled]="IsDisabled"></p-multiSelect>
            </div>
        </div><br>
        <div class="row">
            <div class="p-field col-md-6">
                <label for="description" [translate]="'Tracker.Description'"></label><br>
                <textarea id="description" [(ngModel)]="projectObj.description" pInputTextarea required rows="3"
                    cols="63" [disabled]="IsDisabled"></textarea>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6"></div>
            <div class="col-md-3">
                <button type="submit" (click)="AddProject()" class="btn btn-primary"
                    [ngStyle]="{'margin-right': selectedlang === lang? ' 0px': '30px'}"
                    *ngIf="activeIndex ==0 && IsSaveProject==false">{{'Tracker.Save Project'| translate}}</button>
            </div>
        </div>
    </div>
    <div *ngIf="activeIndex==1" class="stepsdemo-content">
        <br>
        <div class="row">
            <div class="p-field col-md-3">
                <label for="sitename" [translate]="'Tracker.Sites'"></label><br>
                <p-listbox [options]="lstSites" optionValue="id" [(ngModel)]="projectSiteClientObj.siteId"
                    optionLabel="sitename" (onChange)="getProjectSiteIdEvent($event)"></p-listbox><br>
                <label for="Client Name" class="labelMarginRight" [translate]="'Tracker.Client Name'"></label><br>
                <p-multiSelect [options]="lstClients" [(ngModel)]="projectSiteClientObj.clients"
                    selectedItemsLabel="{0} columns selected" [style]="{'width':'100%'}"
                    [placeholder]="'Tracker.Client Name' | translate" optionLabel="clientName">
                </p-multiSelect><br>
            </div>
            <div class="p-field col-md-9 card">
                <div class="row">
                    <div class="p-field col-md-4">

                    </div>
                    <div class="p-field col-md-2"></div>
                    <div class="p-field col-md-3"></div>
                    <div class="p-field col-md-3">
                        <button type="submit" (click)="AddAssets()" style="float: right;margin-top: 20px;"
                            class="btn btn-primary" *ngIf="activeIndex ==1">{{'Tracker.Add Asset' | translate}}</button>
                    </div>
                </div>
                <div class="row mt-3">

                    <div class="col-md-12">
                        <p-table [value]="listProjectSiteAssetClients" [scrollable]="true" scrollHeight="400px"
                            scrollDirection="both">
                            <ng-template pTemplate="header">
                                <tr>
                                    <!-- <th>Site Name</th>
                                    <th>{{'Tracker.Asset Name' | translate}}
                                        <p-columnFilter type="text" field="assetName" display="menu"></p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.Asset Serial' | translate}}
                                        <p-columnFilter type="text" field="serialNumber" display="menu">
                                        </p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.DueDate' | translate}}
                                        <p-columnFilter type="text" field="days" display="menu"></p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.Warranty Period' | translate}}
                                        <p-columnFilter type="text" field="warrantyPeriod" display="menu">
                                        </p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.Warranty Start Date' | translate}}
                                        <p-columnFilter type="date" field="warrantyStartDate" display="menu">
                                        </p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.Supplier Name' | translate}}
                                        <p-columnFilter type="text" field="supplierName" display="menu">
                                        </p-columnFilter>
                                    </th>
                                    <th>{{'Tracker.Client' | translate}}
                                        <p-columnFilter type="text" field="clientName" display="menu"></p-columnFilter>

                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-i>
                                <tr>
                                    <!-- <td>{{i.siteName}}</td>
                                    <td>{{i.assetName}}</td>
                                    <td>{{i.serialNumber}}</td>
                                    <td>{{i.days}} Days</td>
                                    <td>{{i.warrantyPeriod}} Years</td>
                                    <td>{{i.warrantyStartDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{i.supplierName}}</td>
                                    <td>
                                        <div *ngFor="let cln of i.clients">
                                            <div>{{cln.clientName}}</div>
                                        </div>
                                    </td>
                                </tr>
                                <tr *ngIf="listProjectSiteAssetClients.length == 0">
                                    <td colspan="4" style="color: rgb(102, 97, 23);"
                                        [translate]="'Tracker.No data found'">.
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
        </div>
        <br>
    </div>
    <br>
    <div *ngIf="activeIndex==2" class="stepsdemo-content">
        <div class="row">

            <div class="col for">
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                        <input #PartnerName="ngModel" class="form-control"
                            [class.is-invalid]="PartnerName.invalid && PartnerName.touched"
                            [class.is-valid]="PartnerName.valid" required minlength="3" type="text" pInputText
                            [placeholder]="'Tracker.Partener Name' | translate"
                            [(ngModel)]="stackholderInLst.stackeholderName">
                    </div>
                    <small [hidden]="PartnerName.valid || PartnerName.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>
                </div>
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"></span>
                        <input #Partenermobile="ngModel" class="form-control"
                            [class.is-invalid]="Partenermobile.invalid && Partenermobile.touched"
                            [class.is-valid]="Partenermobile.valid" required minlength="3" type="number" pInputText
                            [placeholder]="'Tracker.Mobile' | translate" [(ngModel)]="stackholderInLst.mobile">
                        <span class="p-inputgroup-addon"></span>
                    </div>
                    <small [hidden]="Partenermobile.valid || Partenermobile.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messegeNumber'"></small>
                </div>
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"></span>
                        <input #Partenerrank="ngModel" class="form-control"
                            [class.is-invalid]="Partenerrank.invalid && Partenerrank.touched"
                            [class.is-valid]="Partenerrank.valid" required minlength="3" type="text" pInputText
                            [placeholder]="'Tracker.Rank' | translate" [(ngModel)]="stackholderInLst.rank">
                        <span class="p-inputgroup-addon"></span>
                    </div>
                    <small [hidden]="Partenerrank.valid || Partenerrank.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>
                </div>
                <div class="p-col-12 p-md-4">
                    <div>
                        <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate" style="width: 100%;"
                            [(ngModel)]="stackholderInLst.description" class="row p-col-12 p-md-4"></textarea>
                    </div>
                    <div>
                        <button class="btn btn-info" style="margin-top: 20px;float: right;margin-right: -17px;"
                            (click)="Savetolist_Stackholders()" [translate]="'Tracker.Save To List'"></button>
                    </div>
                </div>
            </div>

            <div class="col">
                <table class="table">
                    <thead>
                        <tr>
                            <th [translate]="'Tracker.Partener Name'"></th>
                            <th [translate]="'Tracker.Mobile'"></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let i of lstOfStackholder">
                            <td>
                                {{i.stackeholderName}}
                            </td>
                            <td>
                                {{i.mobile}}
                            </td>
                        </tr>
                        <tr>

                        </tr>
                        <tr *ngIf="lstOfStackholder.length == 0">
                            <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">
                            </td>
                        </tr>
                    </tbody>

                </table>

                <button class="btn btn-warning" [disabled]="lstOfStackholder.length == 0"
                    (click)="SaveToDB_Stackholders()" [translate]="'Tracker.Add'"></button>
            </div>
        </div>

    </div>
    <div *ngIf="activeIndex==3" class="stepsdemo-content">
        <div class="row">
            <div class="col">
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                        <input #mileston="ngModel" class="form-control"
                            [class.is-invalid]="mileston.invalid && mileston.touched" [class.is-valid]="mileston.valid"
                            required minlength="3" type="text" pInputText [placeholder]="'Tracker.Title' | translate"
                            [(ngModel)]="milestonInLst.title">
                    </div>
                    <small [hidden]="mileston.valid || mileston.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>
                </div>
                <div class="row p-col-12 p-md-4">
                    <div class="p-field col-md-6">
                        <label for="StartDate" class="labelMarginRight" [translate]="'Tracker.Start Date'">
                        </label><br>
                        <p-calendar #milestonStartDate="ngModel"
                            [class.is-invalid]="milestonStartDate.invalid && milestonStartDate.touched"
                            [class.is-valid]="milestonStartDate.valid" required minlength="3"
                            [(ngModel)]="milestonInLst.startDate" dateFormat="dd/mm/yy"></p-calendar>
                        <br><small [hidden]="milestonStartDate.valid || milestonStartDate.untouched" id="helpId"
                            class="text-danger" [translate]="'Tracker.messegeDate'"></small>
                    </div>
                    <div class="p-field col-md-6">
                        <label for="End Date" class="labelMarginRight" [translate]="'Tracker.End Date'">
                        </label><br>
                        <p-calendar #milestonendDate="ngModel"
                            [class.is-invalid]="milestonendDate.invalid && milestonendDate.touched"
                            [class.is-valid]="milestonendDate.valid" required minlength="3"
                            [(ngModel)]="milestonInLst.endDate" dateFormat="dd/mm/yy"></p-calendar><br>
                        <small [hidden]="milestonendDate.valid || milestonendDate.untouched" id="helpId"
                            class="text-danger" [translate]="'Tracker.messegeDate'"></small>
                    </div>
                </div>

                <div class="p-col-12 p-md-4">
                    <div>
                        <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate"
                            [(ngModel)]="milestonInLst.description" style="width: 100%;"
                            class="row p-col-12 p-md-4"></textarea>
                    </div>
                    <div>
                        <button class="btn btn-info" style="margin-top: 20px;float: right;margin-right: -17px;"
                            (click)="Savetolist_Milestones()" [translate]="'Tracker.Save To List'"></button>
                    </div>
                </div>
            </div>

            <div class="col">
                <table class="table">
                    <thead>
                        <tr>
                            <th [translate]="'Tracker.Title'"></th>
                            <th [translate]="'Tracker.Start Date'"></th>
                            <th [translate]="'Tracker.End Date'"></th>
                            <th [translate]="'Tracker.Description'"></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let i of lstOfMilestones">
                            <td>
                                {{i.title}}
                            </td>
                            <td>
                                {{i.startDate | date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{i.endDate | date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{i.description}}
                            </td>
                        </tr>
                        <tr>

                        </tr>
                        <tr *ngIf="lstOfMilestones.length == 0">
                            <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                            </td>
                        </tr>
                    </tbody>

                </table>

                <button class="btn btn-warning" [disabled]="lstOfMilestones.length == 0" (click)="SaveToDB_Milestones()"
                    [translate]="'Tracker.Add'"></button>
            </div>
        </div>
    </div>
    <div *ngIf="activeIndex==4" class="stepsdemo-content">
        <div class="row">
            <div class="p-col-12 p-md-4">
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input #teamname2="ngModel" [class.is-invalid]="teamname2.invalid && teamname2.touched"
                        [class.is-valid]="teamname2.valid" required minlength="3" type="text" class="form-control"
                        pInputText [placeholder]="'Tracker.Team Name' | translate" [(ngModel)]="team.Name">
                </div>
                <small [hidden]="teamname2.valid || teamname2.untouched" id="helpId" class="text-danger"
                    [translate]="'Tracker.messege'"></small>
            </div>
            <div class="col">
                <div class="col">
                    <label class="labelstyle" [translate]="'Tracker.Position Name'"></label>
                    <select [(ngModel)]="ProjectTeam.projectPositionId" name="id" class="form-control">emp
                        <option hidden [value]="" selected>select Position Name </option>
                        <option *ngFor="let the of lstOfprojectPosition" value="{{the.id}}">{{the.positionName}}
                        </option>
                    </select>
                </div>

                <div class="col">
                    <label class="labelstyle" [translate]="'Tracker.Employee Name'"></label>
                    <select [(ngModel)]="ProjectTeam.employeeId" name="sel2" class="form-control"
                        (change)="OnChangeEmpID($event)">
                        <option *ngFor="let th of lstEmployees" value="{{th.id}}">{{th.employeeName}}</option>
                    </select>
                </div>

                <div class="col">
                    <label class="labelstyle" [translate]="'Tracker.Department Name'"></label>
                    <select [(ngModel)]="ProjectTeam.departmentId" name="sub" class="form-control">
                        <option value="{{department.id}}">{{department.name}}</option>
                    </select>
                </div>

                <div class="p-col-12 p-md-4">

                    <div>
                        <button class="btn btn-info" style="margin-top: 20px;float: right;" (click)="Savetolist_Teams()"
                            [translate]="'Tracker.Save To List'"></button>
                    </div>
                </div>
            </div>

            <div class="col">
                <table class="table">
                    <thead>
                        <tr>{{ 'Tracker.Team Name' | translate }} : {{teamname}}</tr>
                        <tr>
                            <th [translate]="'Tracker.Position Name'"></th>
                            <th [translate]="'Tracker.Employee Name'"></th>
                            <th [translate]="'Tracker.Department Name'"></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let i of lstOfProjectTeams">
                            <td>
                                {{i.projectPositionName}}
                            </td>
                            <td>
                                {{i.employeeName}}
                            </td>
                            <td>
                                {{i.departmentName}}
                            </td>
                        </tr>

                        <tr *ngIf="lstOfProjectTeams.length == 0">
                            <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                            </td>
                        </tr>
                    </tbody>

                </table>

                <button class="btn btn-warning" [disabled]="lstOfProjectTeams.length == 0"
                    (click)="SaveToDB_ProjectTeams()" [translate]="'Tracker.Add'"></button>
            </div>
        </div>
    </div>
    <div *ngIf="activeIndex==5" class="stepsdemo-content">
        <div class="row">
            <div class="col">
                <div class="p-col-12 p-md-4">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                        <input #DocName="ngModel" class="form-control"
                            [class.is-invalid]="DocName.invalid && DocName.touched" [class.is-valid]="DocName.valid"
                            required minlength="3" type="text" pInputText
                            [placeholder]="'Tracker.Document Name' | translate" [(ngModel)]="docproject.documentName">
                    </div>
                    <small [hidden]="DocName.valid || DocName.untouched" id="helpId" class="text-danger"
                        [translate]="'Tracker.messege'"></small>
                </div>
                <div class="p-col-12 p-md-4">
                    <div>
                        <textarea pInputTextarea [placeholder]="'Tracker.Description' | translate" style="width: 100%;"
                            [(ngModel)]="docproject.Description" class="row p-col-12 p-md-4"></textarea>
                    </div>
                    <br />
                    <br />
                    <div class="p-field col-md-3" style="margin-bottom:15px;">
                        <div class="col-md-2">
                            <input type="file" #file [placeholder]="'Tracker.Choose file'|translate"
                                (change)="uploadFile(file.files)" style="display:none;">

                        </div>
                        <div class="col-md-4">

                            <span class="upload" *ngIf="message">

                                {{message}}
                            </span>
                        </div>
                    </div>
                    <div>
                        <button type="button" class="btn btn-success" style="margin-top: 20px;margin-left: 10px;" (click)="file.click()"
                        [translate]="'Tracker.Upload'">
                    </button>
                        <button class="btn btn-info" style="margin-top: 20px;float: right;" (click)="Savedoctolist()"
                            [translate]="'Tracker.Save To List'"></button>
                    </div>
                </div>
            </div>

            <div class="col">
                <table class="table">
                    <thead>
                        <tr>
                            <th [translate]="'Tracker.Document Name'"></th>
                            <th [translate]="'Tracker.Description'"></th>
                            <th [translate]="'Tracker.File Name'"></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let i of lstoddocproj">

                            <td>{{i.documentName}}</td>
                            <td>{{i.Description}}</td>
                            <td>{{i.documentFile}}</td>
                        </tr>
                        <tr>

                        </tr>
                        <tr *ngIf="lstoddocproj.length == 0">
                            <td colspan="4" style="color: rgb(102, 97, 23);" [translate]="'Tracker.No data found'">.
                            </td>
                        </tr>
                    </tbody>

                </table>

                <button class="btn btn-warning" [disabled]="lstoddocproj.length == 0" (click)="SaveDocuentToDB()"
                    [translate]="'Tracker.Add'"></button>
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-md-3">
            <br>
            <button type="submit" (click)="PreviousStep()" class="btn btn-warning"
                [ngStyle]="{'margin-left': selectedlang === lang? ' 0px': '30px'}" *ngIf="activeIndex!=0">BACK</button>
        </div>
        <div class="col-md-6"></div>
        <div class="col-md-3">
            <button type="submit" (click)="NextStep()" style="margin-right: 33px;" class="btn btn-success mt-4"
                *ngIf="activeIndex!=5 ">{{'Tracker.NEXT'| translate}}</button>
            <button type="submit" (click)="Finish()" style="margin-right: 35px;" class="btn btn-primary"
                *ngIf="activeIndex ==5">{{'Tracker.FINISH'| translate}}</button>
        </div>
    </div>
    <br> -->
